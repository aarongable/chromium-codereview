
<script src="../sugar.js"></script>
<script src="../base.js"></script>

<script src="../resources.js"></script>
<script src="../model/issue.js"></script>
<script src="../model/issue_list.js"></script>
<script src="../model/issue_message.js"></script>
<script src="../model/patch_file.js"></script>
<script src="../model/patch_file_message.js"></script>
<script src="../model/patch_set.js"></script>
<script src="../model/search.js"></script>
<script src="../model/search_result.js"></script>
<script src="../model/try_job_result.js"></script>
<script src="../model/try_job_result_step.js"></script>
<script src="../model/user.js"></script>

<link rel="import" href="cr-issue-inbox.html">
<link rel="import" href="cr-issue.html">

<polymer-element name="cr-app">
    <template>
        <style>
            :host { display: block }

            p {
                padding: 1em;
                font-size: 2em;
            }

            h1 {
                margin: 0;
                padding: 0.5em 16px;
                font-size: 1.5em;
            }
        </style>
        <!-- <template if="{{ loading && !failed }}">
            <p>
                Loading issues from Rietveld...
            </p>
        </template> -->
        <template if="{{ !loading && failed }}">
            <p>
                Failed to load issues. :(
            </p>
        </template>
        <!-- <template if="{{ !loading && !failed }}">
            <h1>{{ issues.owner.name }}'s issues</h1>
            <cr-issue-inbox issues="{{ issues }}"></cr-issue-inbox>
        </template> -->
        <cr-issue></cr-issue>
    </template>
    <script>
        Polymer("cr-app", {
            issues: null,
            loading: false,
            failed: false,
            attached: function() {
                var self = this;
                this.loading = true;
                // var user = new User("pdr");
                // user.loadIssues().then(function(issues) {
                //     self.issues = issues;
                //     self.loading = false;
                // }).catch(function(error) {
                //     console.log(error);
                //     self.loading = false;
                //     self.failed = true;
                // });
            },
        });
    </script>
</polymer-element>
