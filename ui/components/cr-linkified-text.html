
<script src="../ba-linkify.js"></script>

<polymer-element name="cr-linkified-text" attributes="text">
    <template><style>
            a:link,
            a:visited {
                color: #284D8C;
                text-decoration: none;
            }

            a:hover {
                text-decoration: underline;
            }
    </style><div id="text"></div></template>
    <script>
    Polymer("cr-linkified-text", {
        text: "",
        textChanged: function(oldValue, newValue) {
            var root = this.shadowRoot.getElementById('text');

            root.innerHTML = "";

            linkify(newValue, {
                callback: function(text, href) {
                    if (href) {
                        var link = document.createElement("a");
                        link.href = href;
                        link.textContent = text;
                        root.appendChild(link);
                    } else {
                        root.appendChild(document.createTextNode(text));
                    }
                }
            });
        },
    });
  </script>
</polymer-element>
